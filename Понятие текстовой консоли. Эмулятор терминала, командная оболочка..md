## 1. Текстовая консоль

>[!info] Консоль
>интерфейс взаимодействия пользователя с операционной системой, которые предоставляет:
>- ввод команд (с клавиатуры) 
>- вывод информации (на монитор или другой текстовый/графический терминал).


Исторически:
- Консолью был физический терминал (монитор + клавиатура), подключенный к компьютеру или мэинфрейму.
- В Unix-системах - это первое устройство ввода/вывода, связанное с системой.

---
> [!info] Текстовая консоль
> режим работы системы, при котором:
> - пользователь видит только текстовый интерфейс
> - нет графической среды (GUI

В Linux:
- Текстовые консоли обычно доступны как виртуальные консоли:
	- `tty1`, `tty2`, ... , `ttyN`
- Каждая такая консоль:
	- является отдельным терминальным устройством (tty)
	- предоставляет вход/выход, к которым может быть привязана командная оболочка (shell).

Особенности текстовой консоли:
- Ввод - с клавиатуры (символьный)
- Вывод - текст, формируемый программами
- Отсутствие окон, мыши (как обязательного элемента)
- Могут использоваться цвета, простое  позиционирование курсора (через управляющие последовательности ANSI, escape-коды).

### TTY (терминальные устройства)
В Unix-подобных системах:
- Все консоли, терминалы и эмуляторы терминалов представлены как tty-устройства:
	- `/dev/tty1`, `/dev/tty2` - виртуальные текстовые консоли
	- `/dev/ttyS0` - и подобные физические последовательные терминалы (COM-порты)
	- `/dev/pts/0`, `/dev/pts/1` - псевдотерминалы (используются эмулятором терминалов)
TTY (teletypewriter) - логическая абстракция, описывающая текстовые терминал:
- обеспечивает буферизацию ввода
- обрабатывает специальные клавиши (CTRL+C, CTRL+Z и др.)
- предоставляет интерфейс для программ, читающих/пишущих в терминал. Исторически `tty` воспринимались как "виртуальный COM-порт": с точки зрения ядра это тот же символьный поток, что и последовательная консоль.

## 2.  Эмулятор терминала 

Терминал в классическом смысле:
- устройство с экраном и клавиатурой
- подключается к вычислительной системе (часто по последовательному порту)
- отображается текст и отправляет на машину нажатия клавиш

> [!info] Эмулятор терминала
> программа (обычно в графической среде), которая
> - имитирует поведение классического текстового терминала
> - предоставляет 
> 	- окно для вывода текста
> 	- возможность ввода  
> - взаимодействует с псевдотерминалом (pty), который с точки зрения системы ведет себя как обычный tty.

> Примеры:
>`gnome-terminal`, `konsole`, `xterm` и тд


### Как работает
- При запуске эмулятор терминала:
	- создает пару псевдотерминалов
		- master (управляет эмулятор)
		- slave (виден как `/dev/pts/N`)
- Эмулятор запускает командную оболочку (shell), например `bash`, `zsh`, `fish`, привязанную к slave-части `pty`
- Ввод с клавиатуры:
	- эмулятор терминала отправляет символы в master
	- они попадают в slave, как если бы это было физическое tty-устройство
	- оболочка читает данные как обычный ввод
- Вывод от оболочки и других программ:
	- пишется в slave
	- эмулятор читает из master
	- отображает текст в окне (учитывая управляющие последовательности ANSI, цвет, позиционирование курсора)

Таким образом:
- для оболочки и запущенных программ эмулятор терминала выглядит как обычный терминал
- для пользователя - это окно в графическом интерфейсе с текстом

### Возможности современных эмуляторов терминалов
Поддержка:
- цветного текста
- различные кодировки 
- позиционирования курсора и псевдографики
- вкладок, разделения окна
- прокрутки

Дополнительно:
- копирование/вставка
- настройка шрифтов, цветов
- интеграция с графической оболочкой

## 3. Shell (командная оболочка)

> [!info] Shell
> программа, которая:
> - представляет пользователю интерфейс командной строки
> - принимает вводимые пользователем команды (строки)
> - интерпретирует их и запускает соответствующие программы
> - может быть и языком сценариев (скриптом)

Оболочка является основным интерфейсом к ОС в текстовой консоли или в эмуляторе терминала

### Основные функции
- Чтение команд
	- с клавиатуры
	- из файла
- Парсинг (разбор команд)
	- разбивка строки на токены (команда, аргументы)
	- обработка кавычек, экранирования
	- подстановка переменных окружения
	- подстановка имен файлов
	- подстановка команд
- Запуск программ
	- поиск исполняемого файла
	- создание нового процесса
-  Организация ввода/вывода
	- перенаправление стандартных потоков
	- pipe (каналы) `|` - передача вывода одной программы на вход другой
-  Управление процессами 
	- запуск в фоне 
	- приостановка и возобновление задач
	- отслеживание завершения процессов
-  Переменные окружения и переменные оболочки
	- хранение конфигурации среды
	- настройка поведения программ